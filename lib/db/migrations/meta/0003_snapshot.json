{
  "version": "5",
  "dialect": "mysql",
  "id": "5272b810-844c-421b-9175-e7eb80a47ef3",
  "prevId": "b05f486c-fbce-47c6-80a7-5a8fa5e76dd3",
  "tables": {
    "agent_errors": {
      "name": "agent_errors",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_run_id": {
          "name": "agent_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "step": {
          "name": "step",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "error_type": {
          "name": "error_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "error_details": {
          "name": "error_details",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_error_agent_run": {
          "name": "idx_error_agent_run",
          "columns": [
            "agent_run_id"
          ],
          "isUnique": false
        },
        "idx_error_step": {
          "name": "idx_error_step",
          "columns": [
            "step"
          ],
          "isUnique": false
        },
        "idx_error_occurred_at": {
          "name": "idx_error_occurred_at",
          "columns": [
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "agent_errors_agent_run_id_agent_runs_id_fk": {
          "name": "agent_errors_agent_run_id_agent_runs_id_fk",
          "tableFrom": "agent_errors",
          "tableTo": "agent_runs",
          "columnsFrom": [
            "agent_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "agent_errors_id": {
          "name": "agent_errors_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "agent_runs": {
      "name": "agent_runs",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "repository_id": {
          "name": "repository_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "task": {
          "name": "task",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "current_step": {
          "name": "current_step",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'running'"
        },
        "merkle_root": {
          "name": "merkle_root",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "sandbox_id": {
          "name": "sandbox_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "branch_name": {
          "name": "branch_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pr_url": {
          "name": "pr_url",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "commit_hash": {
          "name": "commit_hash",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_repository_status": {
          "name": "idx_repository_status",
          "columns": [
            "repository_id",
            "status"
          ],
          "isUnique": false
        },
        "idx_agent_runs_started_at": {
          "name": "idx_agent_runs_started_at",
          "columns": [
            "started_at"
          ],
          "isUnique": false
        },
        "idx_agent_runs_completed_at": {
          "name": "idx_agent_runs_completed_at",
          "columns": [
            "completed_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "agent_runs_repository_id_repositories_id_fk": {
          "name": "agent_runs_repository_id_repositories_id_fk",
          "tableFrom": "agent_runs",
          "tableTo": "repositories",
          "columnsFrom": [
            "repository_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "agent_runs_id": {
          "name": "agent_runs_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "edited_files": {
      "name": "edited_files",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_run_id": {
          "name": "agent_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "plan_item_id": {
          "name": "plan_item_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "file_path": {
          "name": "file_path",
          "type": "varchar(1024)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "original_content": {
          "name": "original_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "new_content": {
          "name": "new_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "edited_at": {
          "name": "edited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_edited_agent_run": {
          "name": "idx_edited_agent_run",
          "columns": [
            "agent_run_id"
          ],
          "isUnique": false
        },
        "idx_edited_plan_item": {
          "name": "idx_edited_plan_item",
          "columns": [
            "plan_item_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "edited_files_agent_run_id_agent_runs_id_fk": {
          "name": "edited_files_agent_run_id_agent_runs_id_fk",
          "tableFrom": "edited_files",
          "tableTo": "agent_runs",
          "columnsFrom": [
            "agent_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "edited_files_plan_item_id_plan_items_id_fk": {
          "name": "edited_files_plan_item_id_plan_items_id_fk",
          "tableFrom": "edited_files",
          "tableTo": "plan_items",
          "columnsFrom": [
            "plan_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "edited_files_id": {
          "name": "edited_files_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "indexed_files": {
      "name": "indexed_files",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_run_id": {
          "name": "agent_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_path": {
          "name": "file_path",
          "type": "varchar(1024)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_hash": {
          "name": "file_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "chunk_count": {
          "name": "chunk_count",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "embedding_stored": {
          "name": "embedding_stored",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "indexed_at": {
          "name": "indexed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_indexed_agent_run": {
          "name": "idx_indexed_agent_run",
          "columns": [
            "agent_run_id"
          ],
          "isUnique": false
        },
        "idx_indexed_file_hash": {
          "name": "idx_indexed_file_hash",
          "columns": [
            "file_hash"
          ],
          "isUnique": false
        },
        "idx_indexed_files_embedding": {
          "name": "idx_indexed_files_embedding",
          "columns": [
            "embedding_stored"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "indexed_files_agent_run_id_agent_runs_id_fk": {
          "name": "indexed_files_agent_run_id_agent_runs_id_fk",
          "tableFrom": "indexed_files",
          "tableTo": "agent_runs",
          "columnsFrom": [
            "agent_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "indexed_files_id": {
          "name": "indexed_files_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "plan_items": {
      "name": "plan_items",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_run_id": {
          "name": "agent_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_path": {
          "name": "file_path",
          "type": "varchar(1024)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "priority": {
          "name": "priority",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'pending'"
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_plan_agent_run": {
          "name": "idx_plan_agent_run",
          "columns": [
            "agent_run_id"
          ],
          "isUnique": false
        },
        "idx_plan_status": {
          "name": "idx_plan_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "plan_items_agent_run_id_agent_runs_id_fk": {
          "name": "plan_items_agent_run_id_agent_runs_id_fk",
          "tableFrom": "plan_items",
          "tableTo": "agent_runs",
          "columnsFrom": [
            "agent_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "plan_items_id": {
          "name": "plan_items_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "pull_requests": {
      "name": "pull_requests",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_run_id": {
          "name": "agent_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "pr_number": {
          "name": "pr_number",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "pr_url": {
          "name": "pr_url",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "base_branch": {
          "name": "base_branch",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "head_branch": {
          "name": "head_branch",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'open'"
        },
        "merged_at": {
          "name": "merged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_pr_agent_run": {
          "name": "idx_pr_agent_run",
          "columns": [
            "agent_run_id"
          ],
          "isUnique": false
        },
        "idx_pr_status": {
          "name": "idx_pr_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "pull_requests_agent_run_id_agent_runs_id_fk": {
          "name": "pull_requests_agent_run_id_agent_runs_id_fk",
          "tableFrom": "pull_requests",
          "tableTo": "agent_runs",
          "columnsFrom": [
            "agent_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "pull_requests_id": {
          "name": "pull_requests_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "semantic_searches": {
      "name": "semantic_searches",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_run_id": {
          "name": "agent_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "query_text": {
          "name": "query_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "relevant_files": {
          "name": "relevant_files",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "similarity_scores": {
          "name": "similarity_scores",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "searched_at": {
          "name": "searched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_semantic_agent_run": {
          "name": "idx_semantic_agent_run",
          "columns": [
            "agent_run_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "semantic_searches_agent_run_id_agent_runs_id_fk": {
          "name": "semantic_searches_agent_run_id_agent_runs_id_fk",
          "tableFrom": "semantic_searches",
          "tableTo": "agent_runs",
          "columnsFrom": [
            "agent_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "semantic_searches_id": {
          "name": "semantic_searches_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "account": {
      "name": "account",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "account_id": {
          "name": "account_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "provider_id": {
          "name": "provider_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_account_user_id": {
          "name": "idx_account_user_id",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "idx_account_provider_account": {
          "name": "idx_account_provider_account",
          "columns": [
            "provider_id",
            "account_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "account_user_id_user_id_fk": {
          "name": "account_user_id_user_id_fk",
          "tableFrom": "account",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "account_id": {
          "name": "account_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "session": {
      "name": "session",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_session_token": {
          "name": "idx_session_token",
          "columns": [
            "token"
          ],
          "isUnique": false
        },
        "idx_session_user_id": {
          "name": "idx_session_user_id",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "idx_session_expires_at": {
          "name": "idx_session_expires_at",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "session_user_id_user_id_fk": {
          "name": "session_user_id_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "session_id": {
          "name": "session_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "session_token_unique": {
          "name": "session_token_unique",
          "columns": [
            "token"
          ]
        }
      },
      "checkConstraint": {}
    },
    "user": {
      "name": "user",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_user_email": {
          "name": "idx_user_email",
          "columns": [
            "email"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "user_id": {
          "name": "user_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "user_email_unique": {
          "name": "user_email_unique",
          "columns": [
            "email"
          ]
        }
      },
      "checkConstraint": {}
    },
    "verification": {
      "name": "verification",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "identifier": {
          "name": "identifier",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "verification_id": {
          "name": "verification_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "file_hashes": {
      "name": "file_hashes",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "merkle_tree_id": {
          "name": "merkle_tree_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_path": {
          "name": "file_path",
          "type": "varchar(1024)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_hash": {
          "name": "file_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_size": {
          "name": "file_size",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "last_modified": {
          "name": "last_modified",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_merkle_tree": {
          "name": "idx_merkle_tree",
          "columns": [
            "merkle_tree_id"
          ],
          "isUnique": false
        },
        "idx_file_hashes_hash": {
          "name": "idx_file_hashes_hash",
          "columns": [
            "file_hash"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "file_hashes_merkle_tree_id_merkle_trees_id_fk": {
          "name": "file_hashes_merkle_tree_id_merkle_trees_id_fk",
          "tableFrom": "file_hashes",
          "tableTo": "merkle_trees",
          "columnsFrom": [
            "merkle_tree_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "file_hashes_id": {
          "name": "file_hashes_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "unique_merkle_tree_file": {
          "name": "unique_merkle_tree_file",
          "columns": [
            "merkle_tree_id",
            "file_hash"
          ]
        }
      },
      "checkConstraint": {}
    },
    "merkle_trees": {
      "name": "merkle_trees",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "repository_id": {
          "name": "repository_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "root_hash": {
          "name": "root_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "tree_structure": {
          "name": "tree_structure",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "file_count": {
          "name": "file_count",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_repo_root": {
          "name": "idx_repo_root",
          "columns": [
            "repository_id",
            "root_hash"
          ],
          "isUnique": false
        },
        "idx_merkle_trees_created_at": {
          "name": "idx_merkle_trees_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "merkle_trees_repository_id_repositories_id_fk": {
          "name": "merkle_trees_repository_id_repositories_id_fk",
          "tableFrom": "merkle_trees",
          "tableTo": "repositories",
          "columnsFrom": [
            "repository_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "merkle_trees_id": {
          "name": "merkle_trees_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "repositories": {
      "name": "repositories",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "url": {
          "name": "url",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "base_branch": {
          "name": "base_branch",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'main'"
        },
        "current_merkle_root": {
          "name": "current_merkle_root",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_repositories_updated_at": {
          "name": "idx_repositories_updated_at",
          "columns": [
            "updated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "repositories_id": {
          "name": "repositories_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {
        "unique_url": {
          "name": "unique_url",
          "columns": [
            "url"
          ]
        }
      },
      "checkConstraint": {}
    },
    "sandbox_instances": {
      "name": "sandbox_instances",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "agent_run_id": {
          "name": "agent_run_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "sandbox_id": {
          "name": "sandbox_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "runtime": {
          "name": "runtime",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "vcpus": {
          "name": "vcpus",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 1
        },
        "memory_mb": {
          "name": "memory_mb",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "timeout_minutes": {
          "name": "timeout_minutes",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 5
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'initializing'"
        },
        "domain": {
          "name": "domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "ports": {
          "name": "ports",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "stopped_at": {
          "name": "stopped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "idx_sandbox_agent_run": {
          "name": "idx_sandbox_agent_run",
          "columns": [
            "agent_run_id"
          ],
          "isUnique": false
        },
        "idx_sandbox_id": {
          "name": "idx_sandbox_id",
          "columns": [
            "sandbox_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sandbox_instances_agent_run_id_agent_runs_id_fk": {
          "name": "sandbox_instances_agent_run_id_agent_runs_id_fk",
          "tableFrom": "sandbox_instances",
          "tableTo": "agent_runs",
          "columnsFrom": [
            "agent_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "sandbox_instances_id": {
          "name": "sandbox_instances_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}